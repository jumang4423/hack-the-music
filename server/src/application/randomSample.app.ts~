import { Sample } from "../generated/graphql";
import ErrStr from "../domain/ErrStr.domain";
import { GetCollLenDriver } from "../drivers/getCollLen.drivers";
import { GetRandomThemeDriver } from "../drivers/getRandomTheme.drivers";

export const RandomSampleApp = async (): [Sample | null, ErrStr] => {
  const [sampleGlobalLenCached, err] = await GetCollLenDriver("samples");
  if (err.IsError()) {
    return [null, err];
  }
  const [randomSample, err2] = await GetRandomSampleDriver(
    sampleGlobalLenCached
  );
  if (err2.IsError()) {
    return [null, err2];
  }

  return [randomTheme, new ErrStr({ isErr: false })];
};
